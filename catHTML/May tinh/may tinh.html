<!DOCTYPE html>
<html>
	<head>
		<title>May tinh</title>
		<link rel ="stylesheet" type="text/css"  href="maytinh.css">
		<script type="text/javascript">
			function getvalue(node){
					document.getElementById("pheptinh").value += node;

			}
			function ketqua(){
				var x = document.getElementById("pheptinh").value;
				if(/[\-|\+|\/|*](?=\*)|[\*|\+|\/|\-](?=\-)|[\*|\+|\-|\/](?=\/)|[\-|\/|\/|\+](?=\+)/.test(x) == true)
					document.getElementById("ketqua").value = "Syntax error";
				else
					if(/([\.|\+|\-|\*|\/|\(]$)|(^[\)|\.|\*|\/])/.test(x) == true)
						document.getElementById("ketqua").value = "Syntax error";
					else
						document.getElementById("ketqua").value = eval(document.getElementById("pheptinh").value);
			}
			function doidauketqua(){
				var x = eval(document.getElementById("ketqua").value);
				document.getElementById("ketqua").value = x*(-1);
			}
			function doidaupheptinh(){
				var x = eval(document.getElementById("pheptinh").value);
				document.getElementById("pheptinh").value = x*(-1);
			}
			function gan(){
				document.getElementById("pheptinh").value = document.getElementById("ketqua").value;
			}
			function Ans(){
				document.getElementById("pheptinh").value = eval(document.getElementById("pheptinh").value);
			}
			function xoa(){
				var x = document.getElementById("pheptinh").value;
				document.getElementById("pheptinh").value = x.substr(0 ,x.length-1 );
			}
			function reload(){
				document.getElementById("pheptinh").value = "";
				document.getElementById("ketqua").value = "0";	
				}
			function sqrt1(vl){
				x =document.getElementById("pheptinh").value;
				if(/\W/.test(x) == true)
					{
						var y = document.getElementById("ketqua").value;
						document.getElementById("ketqua").value = Math.sqrt(y);
						document.getElementById("pheptinh").value = vl + x;
					}
				else
					{
						var y = eval(document.getElementById("pheptinh").value);
						document.getElementById("ketqua").value = Math.sqrt(y);
						document.getElementById("pheptinh").value = vl + x;
					}
			}
			function binhphuong(){
				var x = eval(document.getElementById("pheptinh").value);
				document.getElementById("ketqua").value = Math.pow(x,2);
			}
			function lapphuong(){
				var x = eval(document.getElementById("pheptinh").value);
				document.getElementById("ketqua").value = Math.pow(x,3);
			}
			function ln(){
				var x = eval(document.getElementById("pheptinh").value);
				document.getElementById("ketqua").value = Math.log(x);
			}
			function sin(){
				var x = eval(document.getElementById("pheptinh").value);
				document.getElementById("ketqua").value = Math.sin(x);
			}
			function cos(){
				var x = eval(document.getElementById("pheptinh").value);
				document.getElementById("ketqua").value = Math.cos(x);
			}
			function tan(){
				var x = eval(document.getElementById("pheptinh").value);
				document.getElementById("ketqua").value = Math.tan(x);
			}
			function exp(){
				var x = eval(document.getElementById("pheptinh").value);
				document.getElementById("ketqua").value = Math.exp(x);
			}
			

		</script>

	</head>
	<body onload="reload()">
		<table>
		<tr>
			<td align="right" colspan="5" style="color: lightgray; font-size: 30px">fx-570MS</td>
		</tr>
		<tr>
			<td colspan = "5">
				<input id = "pheptinh" type="text">
				<br>
				<input id = "ketqua" readonly="readonly" type="text" style = "text-align:right">
			</td>
		</tr>
		<tr>
			<td colspan="5" height="10px"></td>
		</tr>
		<tr>
			<td><input class = "buttonlogic" type="button" value="&radic;" onmousedown="sqrt1(this.value)"></td>
			<td><input class = "buttonlogic" type="button" value= "x&sup2" onmousedown="binhphuong()" onclick="gan()"></td>
			<td><input class = "buttonlogic" type="button" value="x&sup3" onmousedown="lapphuong()" onclick="gan()"></td>	
			<td><input class = "buttonlogic" type="button" value="log" onclick="ln()"></td>
			<td><input class = "buttonlogic" type="button" value="ln" onclick="ln()"></td>
		</tr>
		<tr>
			<td><input class = "buttonlogic" type="button" value="sin" onclick="sin()" onclick="gan()"></td>
			<td><input class = "buttonlogic" type="button" value="cos" onclick="cos()" onclick="gan()"></td>
			<td><input class = "buttonlogic" type="button" value="tan" onclick="tan()" onclick="gan()"></td>
			<td><input class = "buttonlogic" type="button" value="(" onclick="getvalue(this.value)"></td>
			<td><input class = "buttonlogic" type="button" value=")" onclick="getvalue(this.value)"></td>
		</tr>
		<tr>
			<td colspan="5" height="3px"></td>
		</tr>
		<tr>
			<td><input class = "button" type="button" value="7" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="8" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="9" onclick="getvalue(this.value)"></td>
			<td><input class = "phimnong" type="button" value="DEL" onclick="xoa()"></td>	
			<td><input class = "phimnong" type="button" value="AC"  onclick = "reload()"></td>
		</tr>
		<tr>
			<td><input class = "button" type="button" value="4" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="5" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="6" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="*" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="/" onclick="getvalue(this.value)"></td>
		</tr>
		<tr>
			<td><input class = "button" type="button" value="1" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="2" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="3" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="+" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="-" onclick="getvalue(this.value)"></td>
		</tr>
		<tr>
			<td><input class = "button" type="button" value="-/+" onclick = "doidaupheptinh()" ondblclick = "doidauketqua()"></td>
			<td><input class = "button" type="button" value="." onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="0" onclick="getvalue(this.value)"></td>
			<td><input class = "button" type="button" value="Ans" onclick="Ans()"></td>
			<td><input class = "button" type="button" value="=" onclick="ketqua()"></td>
		</tr>
	</table>
</body>